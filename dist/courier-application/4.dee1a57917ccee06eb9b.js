(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jkDv:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminModule",function(){return Ut});var i=n("ofXK"),r=n("hctd"),o=n("tyNb"),a=n("3Pt+"),s=n("fXoL"),c=n("PqZg");let l=(()=>{class t{constructor(t){this.counterService=t,this.counter$=this.counterService.count$}ngOnInit(){this.counterService.get().subscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(c.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-counter"]],decls:7,vars:3,consts:[[1,"layout"],[1,"wrapper"],[1,"title"],[1,"counts"]],template:function(t,e){if(1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"h3",2),s.yc(3,"Total visits : "),s.Tb(),s.Ub(4,"p",3),s.yc(5),s.fc(6,"async"),s.Tb(),s.Tb(),s.Tb()),2&t){let t=null;s.Db(5),s.zc(null==(t=s.gc(6,1,e.counter$))?null:t.counter)}},pipes:[i.b],styles:[".layout[_ngcontent-%COMP%]{height:100%;max-height:150px;margin:auto}.layout[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{background-color:rgba(193,207,219,.2);width:100%;display:flex;flex-direction:column;flex-wrap:wrap;align-items:center}.wrapper[_ngcontent-%COMP%]{max-width:350px}.counts[_ngcontent-%COMP%]{text-align:center;font-size:3em;width:100%;height:100%;margin:0;color:#00bfff}.title[_ngcontent-%COMP%]{margin:5px}"]}),t})();var b=n("znSr"),d=n("NFeN"),u=n("0IaG"),h=n("0zEo"),g=n("jgUR"),p=n("Cmua"),f=n("o7am"),m=n("WjCi"),w=n("XiUz"),C=n("kmnG"),v=n("qFsG"),y=n("bTqV");let U=(()=>{class t{transform(t,e){return t&&e?function(){const n=t.filter(t=>t.title.toLocaleLowerCase().includes(e.toLocaleLowerCase())),i=t.filter(t=>t.description.toLocaleLowerCase().includes(e.toLocaleLowerCase()));return n.length>0?n:i.length>0?i:[]}():t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=s.Nb({name:"newsSearch",type:t,pure:!0}),t})();function O(t,e){1&t&&s.Pb(0,"app-loader")}function T(t,e){1&t&&s.Pb(0,"app-alert-message")}function P(t,e){if(1&t){const t=s.Vb();s.Ub(0,"tbody"),s.Ub(1,"tr",null,8),s.Ub(3,"td",9,10),s.yc(5),s.Tb(),s.Ub(6,"td"),s.Ub(7,"button",11),s.cc("click",function(e){s.qc(t);const n=s.pc(4);return s.ec(2).updateHandler(e,null==n?null:n.id)}),s.Ub(8,"mat-icon",12),s.yc(9,"system_update"),s.Tb(),s.Tb(),s.Tb(),s.Ub(10,"td"),s.Ub(11,"button",13),s.cc("click",function(e){s.qc(t);const n=s.pc(4),i=s.pc(2);return s.ec(2).openModal(e,null==n?null:n.id,i)}),s.Ub(12,"mat-icon"),s.yc(13,"delete"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=e.$implicit;s.Db(3),s.kc("id",t._id),s.Db(2),s.zc(t.title)}}function x(t,e){if(1&t){const t=s.Vb();s.Sb(0),s.Ub(1,"div",3),s.Ub(2,"mat-form-field",4),s.Ub(3,"input",5),s.cc("ngModelChange",function(e){return s.qc(t),s.ec().searchValue=e}),s.Tb(),s.Tb(),s.Tb(),s.Ub(4,"div",6),s.Ub(5,"table"),s.Ub(6,"thead"),s.Ub(7,"tr"),s.Ub(8,"th"),s.yc(9,"Title"),s.Tb(),s.Ub(10,"th"),s.yc(11,"Update"),s.Tb(),s.Ub(12,"th"),s.yc(13,"Delete"),s.Tb(),s.Tb(),s.Tb(),s.wc(14,P,14,2,"tbody",7),s.fc(15,"newsSearch"),s.Tb(),s.Tb(),s.Rb()}if(2&t){const t=s.ec();s.Db(3),s.kc("ngModel",t.searchValue),s.Db(11),s.kc("ngForOf",s.hc(15,2,t.news,t.searchValue))}}let M=(()=>{class t{constructor(t,e,n,i){this.newsService=t,this.router=e,this.matDialog=n,this.alertService=i,this.isLoading=!1,this.hasError=!1}ngOnInit(){this.isLoading=!0,this.hasError=!1,this.subscription=this.newsService.getAll().subscribe({next:t=>{this.isLoading=!1,this.news=t},error:t=>{this.isLoading=!1,this.hasError=!0,this.alertService.create({type:"danger",message:t.error,time:3e3})}})}ngOnChanges(){this.hasError=!1,this.needRefresh||(this.subscription=this.newsService.getAll().subscribe({next:t=>{this.isLoading=!1,this.news=[],this.news=t},error:t=>{this.isLoading=!1,this.hasError=!0,this.alertService.create({type:"danger",message:t.error,time:3e3})}}))}ngOnDestroy(){this.subscription.unsubscribe()}toogleInfo(t){t.showDetails=!t.showDetails}openModal(t,e,n){this.hasError=!1;const i=new u.d;i.disableClose=!0,i.id="custom-modal",i.data={title:"Are you sure you want to delete?",isConfirmed:!0},this.matDialog.open(h.a,i).afterClosed().subscribe({next:t=>{t&&this.deleteHandler(e,n)},error:t=>{this.isLoading=!1,this.hasError=!0,this.alertService.create({type:"danger",message:t.error,time:3e3})}})}deleteHandler(t,e){this.isLoading=!0,this.hasError=!1,this.newsService.deleteOne(t).subscribe({next:t=>{this.isLoading=!1,e.remove()},error:t=>{this.isLoading=!1,this.hasError=!0,this.alertService.create({type:"danger",message:t.error,time:3e3})}})}updateHandler(t,e){this.router.navigateByUrl(`/admin/news/${e}/edit`)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(g.a),s.Ob(o.c),s.Ob(u.b),s.Ob(p.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-news-list"]],inputs:{needRefresh:"needRefresh"},features:[s.Bb],decls:5,vars:3,consts:[[1,"layout"],[4,"ngIf"],[1,"content"],["fxLayout","","fxLayoutAlign","center center"],["fxFlex","40%","fxFlex.xs","80%"],["matInput","","type","text","placeholder","Filter",3,"ngModel","ngModelChange"],[1,"table-content"],[4,"ngFor","ngForOf"],["dataRow",""],[3,"id"],["dataId",""],["mat-icon-button","","color","accent",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.wc(1,O,1,0,"app-loader",1),s.wc(2,T,1,0,"app-alert-message",1),s.Ub(3,"div",2),s.wc(4,x,16,5,"ng-container",1),s.Tb(),s.Tb()),2&t&&(s.Db(1),s.kc("ngIf",e.isLoading),s.Db(1),s.kc("ngIf",e.hasError),s.Db(2),s.kc("ngIf",(null==e.news?null:e.news.length)>0))},directives:[i.l,f.a,m.a,w.c,w.b,C.b,w.a,v.a,a.a,a.i,a.l,i.k,y.a,d.a],pipes:[U],styles:[".layout[_ngcontent-%COMP%]{width:100%;height:100%}.content[_ngcontent-%COMP%]{width:90%;margin:auto}table[_ngcontent-%COMP%]{border-collapse:collapse;margin:15px 0;font-size:.9em;font-family:sans-serif;min-width:300px;flex:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{color:#adadad;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:12px 15px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:center;border-bottom:1px solid #ddd;width:100%}tbody[_ngcontent-%COMP%]   tr.active-row[_ngcontent-%COMP%]{font-weight:700;width:100%}div.table-content[_ngcontent-%COMP%]{overflow-x:auto;width:100%;display:grid}button[_ngcontent-%COMP%]{margin:auto}h3.no-shipments[_ngcontent-%COMP%]{text-align:center}"]}),t})(),k=(()=>{class t{constructor(t,e){this.elementRef=t,this.render=e}get isVisible(){return this.appControlPanelView}onMouseClick(t){this.appControlPanelView=!this.appControlPanelView,this.ngChangeVisibility()}ngChangeVisibility(){this.render.setStyle(this.elementRef.nativeElement,"display",this.appControlPanelView?"none":"block")}ngOnChanges(){this.ngChangeVisibility()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.l),s.Ob(s.G))},t.\u0275dir=s.Jb({type:t,selectors:[["","appControlPanelView",""]],hostVars:2,hostBindings:function(t,e){1&t&&s.cc("mouseclick",function(t){return e.onMouseClick(t)}),2&t&&s.Gb("is-visible",e.isVisible)},inputs:{appControlPanelView:"appControlPanelView"},exportAs:["appControlPanelView"],features:[s.Bb]}),t})();var _=n("s0Cq"),I=n("tk/3");let L=(()=>{class t{constructor(t){this.http=t}getAll(){return this.http.get(_.a.baseUrl+"support",{withCredentials:!0})}getOne(t){return this.http.get(_.a.baseUrl+"support/"+t,{withCredentials:!0})}postOne(t){return this.http.post(_.a.baseUrl+"support",t,{withCredentials:!0})}updateOne(t,e){return this.http.put(_.a.baseUrl+"support/"+t,e,{withCredentials:!0})}deleteOne(t){return this.http.delete(_.a.baseUrl+"support/"+t,{withCredentials:!0})}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(I.a))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),D=(()=>{class t{transform(t,e){return t&&e?function(){const n=t.filter(t=>t.title.toLocaleLowerCase().includes(e.toLocaleLowerCase())),i=t.filter(t=>t.email.toLocaleLowerCase().includes(e.toLocaleLowerCase())),r=t.filter(t=>t.description.toLocaleLowerCase().includes(e.toLocaleLowerCase()));return n.length>0?n:r.length>0?r:i.length>0?i:[]}():t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=s.Nb({name:"supportQuestionSearch",type:t,pure:!0}),t})();function S(t,e){1&t&&s.Pb(0,"app-loader")}function q(t,e){1&t&&s.Pb(0,"app-alert-message")}function V(t,e){if(1&t&&(s.Ub(0,"tr"),s.Ub(1,"td",14),s.Ub(2,"span"),s.yc(3),s.Tb(),s.Tb(),s.Tb()),2&t){const t=s.ec().$implicit;s.Db(3),s.zc(t.description)}}function E(t,e){if(1&t){const t=s.Vb();s.Ub(0,"tbody"),s.Ub(1,"tr",null,8),s.Ub(3,"td"),s.yc(4),s.Tb(),s.Ub(5,"td",9,10),s.yc(7),s.Tb(),s.Ub(8,"td"),s.Ub(9,"button",11),s.cc("click",function(){s.qc(t);const n=e.$implicit;return s.ec(2).toogleInfo(n)}),s.Ub(10,"mat-icon",12),s.yc(11,"info"),s.Tb(),s.Tb(),s.Tb(),s.Ub(12,"td"),s.Ub(13,"button",13),s.cc("click",function(e){s.qc(t);const n=s.pc(6),i=s.pc(2);return s.ec(2).openModal(e,null==n?null:n.id,i)}),s.Ub(14,"mat-icon"),s.yc(15,"delete"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.wc(16,V,4,1,"tr",1),s.Tb()}if(2&t){const t=e.$implicit;s.Db(4),s.zc(t.email),s.Db(1),s.kc("id",t._id),s.Db(2),s.zc(t.title),s.Db(9),s.kc("ngIf",t.showDetails)}}function N(t,e){if(1&t){const t=s.Vb();s.Sb(0),s.Ub(1,"div",3),s.Ub(2,"mat-form-field",4),s.Ub(3,"input",5),s.cc("ngModelChange",function(e){return s.qc(t),s.ec().searchValue=e}),s.Tb(),s.Tb(),s.Tb(),s.Ub(4,"div",6),s.Ub(5,"table"),s.Ub(6,"thead"),s.Ub(7,"tr"),s.Ub(8,"th"),s.yc(9,"Email"),s.Tb(),s.Ub(10,"th"),s.yc(11,"Title"),s.Tb(),s.Ub(12,"th"),s.yc(13,"Info"),s.Tb(),s.Ub(14,"th"),s.yc(15,"Delete"),s.Tb(),s.Tb(),s.Tb(),s.wc(16,E,17,4,"tbody",7),s.fc(17,"supportQuestionSearch"),s.Tb(),s.Tb(),s.Rb()}if(2&t){const t=s.ec();s.Db(3),s.kc("ngModel",t.searchValue),s.Db(13),s.kc("ngForOf",s.hc(17,2,t.questions,t.searchValue))}}let Q=(()=>{class t{constructor(t,e,n){this.questionService=t,this.matDialog=e,this.alertService=n,this.isLoading=!1,this.hasError=!1}ngOnInit(){this.isLoading=!0,this.hasError=!1,this.questionService.getAll().subscribe({next:t=>{this.isLoading=!1,this.questions=t},error:t=>{this.hasError=!0,this.isLoading=!1,this.alertService.create({type:"danger",message:t.error,time:3e3})}})}toogleInfo(t){t.showDetails=!t.showDetails}openModal(t,e,n){this.hasError=!1;const i=new u.d;i.disableClose=!0,i.id="custom-modal",i.data={title:"Are you sure you want to delete?",isConfirmed:!0},this.matDialog.open(h.a,i).afterClosed().subscribe({next:t=>{t&&this.deleteHandler(e,n)},error:t=>{this.hasError=!0,this.isLoading=!1,this.alertService.create({type:"danger",message:t.error,time:3e3})}})}deleteHandler(t,e){this.isLoading=!0,this.hasError=!1,this.questionService.deleteOne(t).subscribe({next:t=>{this.isLoading=!1,e.remove()},error:t=>{this.hasError=!0,this.isLoading=!1,this.alertService.create({type:"danger",message:t.error,time:3e3})}})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(L),s.Ob(u.b),s.Ob(p.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-support-question-list"]],decls:5,vars:3,consts:[[1,"layout"],[4,"ngIf"],[1,"content"],["fxLayout","","fxLayoutAlign","center center"],["fxFlex","40%","fxFlex.xs","80%"],["matInput","","type","text","placeholder","Filter",3,"ngModel","ngModelChange"],[1,"table-content"],[4,"ngFor","ngForOf"],["dataRow",""],[3,"id"],["dataId",""],["mat-icon-button","","color","accent",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warn",3,"click"],["colspan","5"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.wc(1,S,1,0,"app-loader",1),s.wc(2,q,1,0,"app-alert-message",1),s.Ub(3,"div",2),s.wc(4,N,18,5,"ng-container",1),s.Tb(),s.Tb()),2&t&&(s.Db(1),s.kc("ngIf",e.isLoading),s.Db(1),s.kc("ngIf",e.hasError),s.Db(2),s.kc("ngIf",(null==e.questions?null:e.questions.length)>0))},directives:[i.l,f.a,m.a,w.c,w.b,C.b,w.a,v.a,a.a,a.i,a.l,i.k,y.a,d.a],pipes:[D],styles:[".layout[_ngcontent-%COMP%]{width:100%;height:100%}.content[_ngcontent-%COMP%]{width:90%;margin:auto}table[_ngcontent-%COMP%]{border-collapse:collapse;margin:15px 0;font-size:.9em;font-family:sans-serif;min-width:300px;flex:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{color:#adadad;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:12px 15px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:center;border-bottom:1px solid #ddd;width:100%}tbody[_ngcontent-%COMP%]   tr.active-row[_ngcontent-%COMP%]{font-weight:700;width:100%}div.table-content[_ngcontent-%COMP%]{overflow-x:auto;width:100%;display:grid}button[_ngcontent-%COMP%]{margin:auto}h3.no-shipments[_ngcontent-%COMP%]{text-align:center}"]}),t})();var j=n("HqwY"),z=n("SxV6"),A=n("Wp6s");const F=["form"];function R(t,e){1&t&&s.Pb(0,"app-loader")}function G(t,e){1&t&&s.Pb(0,"app-alert-message")}function H(t,e){1&t&&s.Qb(0)}function B(t,e){1&t&&(s.Ub(0,"mat-label",19),s.yc(1,"Create News"),s.Tb())}function $(t,e){1&t&&(s.Ub(0,"mat-label",19),s.yc(1,"Edit News"),s.Tb())}function Y(t,e){if(1&t&&(s.Ub(0,"div"),s.Pb(1,"img",20),s.Tb()),2&t){s.ec();const t=s.pc(28);s.Db(1),s.kc("src",t.value,s.rc)}}function J(t,e){1&t&&(s.Ub(0,"mat-hint"),s.yc(1,"Title is required!"),s.Tb())}function X(t,e){1&t&&(s.Ub(0,"mat-hint"),s.yc(1,"Title must be at least 4 characters!"),s.Tb())}function K(t,e){1&t&&(s.Ub(0,"mat-hint"),s.yc(1,"Image Url is required!"),s.Tb())}function W(t,e){1&t&&(s.Ub(0,"mat-hint"),s.yc(1," Image URL is incorrect!"),s.Tb())}function Z(t,e){1&t&&(s.Ub(0,"mat-hint"),s.yc(1," Description is required!"),s.Tb())}function tt(t,e){1&t&&(s.Ub(0,"mat-hint"),s.yc(1," Description must be at least 20 characters!"),s.Tb())}function et(t,e){1&t&&(s.Ub(0,"div",17),s.Ub(1,"button",21),s.yc(2,"Go back"),s.Tb(),s.Tb())}let nt=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.fb=e,this.route=n,this.newsService=i,this.alertService=r,this.isPosted=new s.o,this.isLoading=!1,this.id=this.route.snapshot.params.id,this.isCreateMode=!this.id,this.f=this.fb.group({title:["",[a.o.required,a.o.minLength(4)]],imageUrl:["",[a.o.required,j.c]],description:["",[a.o.required,a.o.minLength(20)]]}),this.hasError=!1,this.isCreateMode||this.newsService.getOne(this.id).pipe(Object(z.a)()).subscribe(t=>this.f.patchValue(t),t=>{this.hasError=!0,this.alertService.create({type:"danger",message:t.error,time:3e3})})}ngOnInit(){}newsHandler(t){this.f.invalid||(this.isLoading=!0,this.isCreateMode?this.createNews(t):this.editNews(t))}createNews(t){this.newsService.postOne(t).subscribe({next:t=>{this.isLoading=!1,this.form.resetForm(),this.isPosted.emit(!0)},error:t=>{this.hasError=!0,this.isLoading=!1,this.alertService.create({type:"danger",message:t.error,time:3e3})}})}editNews(t){this.newsService.updateOne(this.id,t).subscribe({next:t=>{this.isLoading=!1,this.router.navigateByUrl("/admin")},error:t=>{this.hasError=!0,this.isLoading=!1,this.alertService.create({type:"danger",message:t.error,time:3e3})}})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(o.c),s.Ob(a.b),s.Ob(o.a),s.Ob(g.a),s.Ob(p.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-news"]],viewQuery:function(t,e){if(1&t&&s.Dc(F,1),2&t){let t;s.oc(t=s.dc())&&(e.form=t.first)}},outputs:{isPosted:"isPosted"},decls:43,vars:14,consts:[[1,"layout"],[4,"ngIf"],[1,"container-form"],[1,"frame"],["name","form",3,"formGroup","ngSubmit"],["form","ngForm"],[1,"label"],[4,"ngIf","ngIfThen","ngIfElse"],["createMode",""],["editMode",""],["appearance","fill"],["type","text","name","title","placeholder","News title","formControlName","title","matInput",""],["type","text","name","imageUrl","placeholder","http://pic.com/img.jpg","formControlName","imageUrl","matInput",""],["image",""],["name","description","placeholder","lorem ipsum","formControlName","description","matInput",""],[1,"actions"],["class","btn-submit",4,"ngIf"],[1,"btn-submit"],["mat-raised-button","","type","submit"],[1,"label-form"],["alt","",1,"image-view",3,"src"],["mat-raised-button","","type","button","routerLink","/admin"]],template:function(t,e){if(1&t&&(s.Ub(0,"div",0),s.wc(1,R,1,0,"app-loader",1),s.Ub(2,"div",2),s.wc(3,G,1,0,"app-alert-message",1),s.Ub(4,"div",3),s.Ub(5,"mat-card"),s.Ub(6,"mat-card-content"),s.Ub(7,"form",4,5),s.cc("ngSubmit",function(){return e.newsHandler(e.f.value)}),s.Ub(9,"div",6),s.wc(10,H,1,0,"ng-container",7),s.wc(11,B,2,0,"ng-template",null,8,s.xc),s.wc(13,$,2,0,"ng-template",null,9,s.xc),s.Tb(),s.wc(15,Y,2,1,"div",1),s.Ub(16,"div"),s.Ub(17,"mat-label"),s.yc(18,"Enter title"),s.Tb(),s.Ub(19,"mat-form-field",10),s.Pb(20,"input",11),s.wc(21,J,2,0,"mat-hint",1),s.wc(22,X,2,0,"mat-hint",1),s.Tb(),s.Tb(),s.Ub(23,"div"),s.Ub(24,"mat-label"),s.yc(25,"Enter Image"),s.Tb(),s.Ub(26,"mat-form-field",10),s.Pb(27,"input",12,13),s.wc(29,K,2,0,"mat-hint",1),s.wc(30,W,2,0,"mat-hint",1),s.Tb(),s.Tb(),s.Ub(31,"div"),s.Ub(32,"mat-label"),s.yc(33,"Enter Description"),s.Tb(),s.Ub(34,"mat-form-field",10),s.Pb(35,"textarea",14),s.wc(36,Z,2,0,"mat-hint",1),s.wc(37,tt,2,0,"mat-hint",1),s.Tb(),s.Tb(),s.Ub(38,"div",15),s.wc(39,et,3,0,"div",16),s.Ub(40,"div",17),s.Ub(41,"button",18),s.yc(42,"Submit"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t){const t=s.pc(12),n=s.pc(14);s.Db(1),s.kc("ngIf",e.isLoading),s.Db(2),s.kc("ngIf",e.hasError),s.Db(4),s.kc("formGroup",e.f),s.Db(3),s.kc("ngIf",e.isCreateMode)("ngIfThen",t)("ngIfElse",n),s.Db(5),s.kc("ngIf",!e.isCreateMode),s.Db(6),s.kc("ngIf",e.f.get("title").touched&&(null==e.f.get("title").errors?null:e.f.get("title").errors.required)),s.Db(1),s.kc("ngIf",e.f.get("title").touched&&(null==e.f.get("title").errors?null:e.f.get("title").errors.minlength)),s.Db(7),s.kc("ngIf",e.f.get("imageUrl").touched&&(null==e.f.get("imageUrl").errors?null:e.f.get("imageUrl").errors.required)),s.Db(1),s.kc("ngIf",e.f.get("imageUrl").touched&&(null==e.f.get("imageUrl").errors?null:e.f.get("imageUrl").errors.imageValidator)),s.Db(6),s.kc("ngIf",e.f.get("description").touched&&(null==e.f.get("description").errors?null:e.f.get("description").errors.required)),s.Db(1),s.kc("ngIf",e.f.get("description").touched&&(null==e.f.get("description").errors?null:e.f.get("description").errors.minlength)),s.Db(2),s.kc("ngIf",!e.isCreateMode)}},directives:[i.l,A.a,A.b,a.p,a.j,a.d,C.f,C.b,a.a,v.a,a.i,a.c,y.a,f.a,m.a,C.e,o.d],styles:[".container-form[_ngcontent-%COMP%], .layout[_ngcontent-%COMP%]{width:100%;display:flex;z-index:1}.container-form[_ngcontent-%COMP%]{height:100%;flex-direction:column;align-items:center}mat-card[_ngcontent-%COMP%]{margin:auto;z-index:1;border-radius:10px;text-align:center;background-color:rgba(193,207,219,.2)}.label[_ngcontent-%COMP%]{margin:auto;padding:2%;font-size:25px}.label-form[_ngcontent-%COMP%]{font-weight:700}div.btn-submit[_ngcontent-%COMP%]{margin:auto;padding:5px;position:relative;text-align:center}textarea[_ngcontent-%COMP%]{width:300px;height:170px}button[_ngcontent-%COMP%]{background-color:#c1cfdb}.mat-card.mat-focus-indicator[_ngcontent-%COMP%]{box-shadow:none}mat-form-field[_ngcontent-%COMP%]{margin:auto;padding:5px;width:350px;display:block;position:relative;text-align:justify;background-color:rgba(193,207,219,.5)}.frame[_ngcontent-%COMP%]{padding:30px 0;width:100%;max-width:600px;margin:0;background-color:hsla(0,0%,100%,.1)}mat-hint[_ngcontent-%COMP%]{font-size:15px}.actions[_ngcontent-%COMP%]{width:80%;margin:auto;display:flex}.image-view[_ngcontent-%COMP%]{height:200px;width:350px}"]}),t})();var it=n("Ydcz");const rt=["form"];function ot(t,e){1&t&&s.Pb(0,"app-loader")}function at(t,e){1&t&&s.Pb(0,"app-alert-message")}function st(t,e){1&t&&s.Qb(0)}function ct(t,e){1&t&&(s.Ub(0,"mat-label",15),s.yc(1,"Create Q&A"),s.Tb())}function lt(t,e){1&t&&(s.Ub(0,"mat-label",16),s.yc(1,"Edit Q&A"),s.Tb())}function bt(t,e){1&t&&(s.Ub(0,"mat-hint"),s.yc(1,"Title is required!"),s.Tb())}function dt(t,e){1&t&&(s.Ub(0,"mat-hint"),s.yc(1,"Title must be at least 5 characters!"),s.Tb())}function ut(t,e){1&t&&(s.Ub(0,"mat-hint"),s.yc(1,"Description is required!"),s.Tb())}function ht(t,e){1&t&&(s.Ub(0,"mat-hint"),s.yc(1,"Description must be at least 10 characters!"),s.Tb())}let gt=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.fb=e,this.route=n,this.questionService=i,this.alertService=r,this.isLoading=!1,this.id=this.route.snapshot.params.id,this.isCreateMode=!this.id,this.f=this.fb.group({title:["",[a.o.required,a.o.minLength(5)]],description:["",[a.o.required,a.o.minLength(10)]]}),this.hasError=!1,this.isCreateMode||this.questionService.getQuestion(this.id).pipe(Object(z.a)()).subscribe(t=>this.f.patchValue(t),t=>{this.hasError=!0,this.alertService.create({type:"danger",message:t.error,time:3e3})})}ngOnInit(){}questionHandler(t){this.f.invalid||(this.isLoading=!0,this.isCreateMode?this.createQuestion(t):this.editQuestion(t))}createQuestion(t){this.questionService.postQuestion(t).subscribe({next:t=>{this.isLoading=!1,this.form.resetForm(),this.router.navigateByUrl("/client-center/q&a")},error:t=>{this.hasError=!0,this.isLoading=!1,this.alertService.create({type:"danger",message:t.error,time:3e3})}})}editQuestion(t){this.questionService.updateQuestion(this.id,t).subscribe({next:t=>{this.isLoading=!1,this.form.resetForm(),this.router.navigateByUrl("/client-center/q&a")},error:t=>{this.hasError=!0,this.isLoading=!1,this.alertService.create({type:"danger",message:t.error,time:3e3})}})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(o.c),s.Ob(a.b),s.Ob(o.a),s.Ob(it.a),s.Ob(p.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-create-question"]],viewQuery:function(t,e){if(1&t&&s.Dc(rt,1),2&t){let t;s.oc(t=s.dc())&&(e.form=t.first)}},decls:32,vars:10,consts:[[1,"layout"],[4,"ngIf"],[1,"container-form"],[1,"frame"],["name","form",3,"formGroup","ngSubmit"],["form","ngForm"],[1,"label"],[4,"ngIf","ngIfThen","ngIfElse"],["createMode",""],["editMode",""],["appearance","fill"],["type","text","name","title","placeholder","question title","formControlName","title","matInput",""],["name","description","placeholder","lorem ipsum","formControlName","description","matInput",""],[1,"btn-submit"],["mat-raised-button","","type","submit"],[1,"edit-label"],[1,"label-form"]],template:function(t,e){if(1&t&&(s.Ub(0,"div",0),s.wc(1,ot,1,0,"app-loader",1),s.Ub(2,"div",2),s.wc(3,at,1,0,"app-alert-message",1),s.Ub(4,"div",3),s.Ub(5,"mat-card"),s.Ub(6,"mat-card-content"),s.Ub(7,"form",4,5),s.cc("ngSubmit",function(){return e.questionHandler(e.f.value)}),s.Ub(9,"div",6),s.wc(10,st,1,0,"ng-container",7),s.wc(11,ct,2,0,"ng-template",null,8,s.xc),s.wc(13,lt,2,0,"ng-template",null,9,s.xc),s.Tb(),s.Ub(15,"div"),s.Ub(16,"mat-label"),s.yc(17,"Enter title"),s.Tb(),s.Ub(18,"mat-form-field",10),s.Pb(19,"input",11),s.wc(20,bt,2,0,"mat-hint",1),s.wc(21,dt,2,0,"mat-hint",1),s.Tb(),s.Tb(),s.Ub(22,"div"),s.Ub(23,"mat-label"),s.yc(24,"Enter Description"),s.Tb(),s.Ub(25,"mat-form-field",10),s.Pb(26,"textarea",12),s.wc(27,ut,2,0,"mat-hint",1),s.wc(28,ht,2,0,"mat-hint",1),s.Tb(),s.Tb(),s.Ub(29,"div",13),s.Ub(30,"button",14),s.yc(31,"Submit"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t){const t=s.pc(12),n=s.pc(14);s.Db(1),s.kc("ngIf",e.isLoading),s.Db(2),s.kc("ngIf",e.hasError),s.Db(4),s.kc("formGroup",e.f),s.Db(3),s.kc("ngIf",e.isCreateMode)("ngIfThen",t)("ngIfElse",n),s.Db(10),s.kc("ngIf",e.f.get("title").touched&&(null==e.f.get("title").errors?null:e.f.get("title").errors.required)),s.Db(1),s.kc("ngIf",e.f.get("title").touched&&(null==e.f.get("title").errors?null:e.f.get("title").errors.minlength)),s.Db(6),s.kc("ngIf",e.f.get("description").touched&&(null==e.f.get("description").errors?null:e.f.get("description").errors.required)),s.Db(1),s.kc("ngIf",e.f.get("description").touched&&(null==e.f.get("description").errors?null:e.f.get("description").errors.minlength))}},directives:[i.l,A.a,A.b,a.p,a.j,a.d,C.f,C.b,a.a,v.a,a.i,a.c,y.a,f.a,m.a,C.e],styles:[".container-form[_ngcontent-%COMP%], .layout[_ngcontent-%COMP%]{width:100%;display:flex;z-index:1}.container-form[_ngcontent-%COMP%]{height:100%;flex-direction:column;align-items:center}mat-card[_ngcontent-%COMP%]{margin:auto;z-index:1;border-radius:10px;text-align:center;background-color:rgba(193,207,219,.2)}.edit-label[_ngcontent-%COMP%]{font-weight:700}.label[_ngcontent-%COMP%]{margin:auto;padding:2%;font-size:25px}div.btn-submit[_ngcontent-%COMP%]{margin:auto;padding:5px;position:relative;text-align:center}textarea[_ngcontent-%COMP%]{width:300px;height:170px}button[_ngcontent-%COMP%]{background-color:#c1cfdb}.mat-card.mat-focus-indicator[_ngcontent-%COMP%]{box-shadow:none}mat-form-field[_ngcontent-%COMP%]{margin:auto;padding:5px;width:350px;display:block;position:relative;text-align:justify;background-color:rgba(193,207,219,.5)}.frame[_ngcontent-%COMP%]{padding:30px 0;width:100%;max-width:600px;margin:0;background-color:hsla(0,0%,100%,.1)}mat-hint[_ngcontent-%COMP%]{font-size:15px}"]}),t})(),pt=(()=>{class t{constructor(){this.resetControls=()=>this.controls={listOfNews:!0,listOfQuestions:!0,createNews:!0,createQuestions:!0},this.controls=this.resetControls(),this.isVisible=!1}ngOnInit(){this.controls.listOfNews=!1}toggleView(t){const e=t.elementRef.nativeElement.id;this.controls=this.resetControls(),this.controls[e]=!this.controls[e]}isPosted(t){t&&(this.controls=this.resetControls(),this.controls.listOfNews=!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Ib({type:t,selectors:[["app-panel"]],decls:34,vars:9,consts:[[1,"main-container"],["src","../../../assets/images/header-admin.jpg"],[1,"row-header"],[1,"header"],[1,"controllers"],[1,"row-content"],[1,"row",3,"ngClass","click"],["color","primary"],["color","accent"],[1,"container"],["id","listOfNews",3,"appControlPanelView","needRefresh"],["listOfNewsControl","appControlPanelView"],["id","listOfQuestions",3,"appControlPanelView"],["listOfQuestionsControl","appControlPanelView"],["id","createNews",3,"appControlPanelView","isPosted"],["createNewsControl","appControlPanelView"],["id","createQuestions",3,"appControlPanelView"],["createQuestionsControl","appControlPanelView"]],template:function(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",0),s.Ub(1,"header"),s.Pb(2,"img",1),s.Ub(3,"div",2),s.Ub(4,"h1",3),s.yc(5,"Admin Panel"),s.Tb(),s.Tb(),s.Tb(),s.Pb(6,"app-counter"),s.Ub(7,"div",4),s.Ub(8,"div",5),s.Ub(9,"div",6),s.cc("click",function(){s.qc(t);const n=s.pc(27);return e.toggleView(n)}),s.Ub(10,"mat-icon",7),s.yc(11,"feed"),s.Tb(),s.yc(12," List of News "),s.Tb(),s.Ub(13,"div",6),s.cc("click",function(){s.qc(t);const n=s.pc(29);return e.toggleView(n)}),s.Ub(14,"mat-icon",7),s.yc(15,"quiz"),s.Tb(),s.yc(16," List of Support Questions "),s.Tb(),s.Ub(17,"div",6),s.cc("click",function(){s.qc(t);const n=s.pc(31);return e.toggleView(n)}),s.Ub(18,"mat-icon",8),s.yc(19,"add_circle"),s.Tb(),s.yc(20," Create News "),s.Tb(),s.Ub(21,"div",6),s.cc("click",function(){s.qc(t);const n=s.pc(33);return e.toggleView(n)}),s.Ub(22,"mat-icon",8),s.yc(23,"add_circle"),s.Tb(),s.yc(24," Create Question&Answers "),s.Tb(),s.Tb(),s.Tb(),s.Ub(25,"div",9),s.Pb(26,"app-news-list",10,11),s.Pb(28,"app-support-question-list",12,13),s.Ub(30,"app-news",14,15),s.cc("isPosted",function(t){return e.isPosted(t)}),s.Tb(),s.Pb(32,"app-create-question",16,17),s.Tb(),s.Tb()}2&t&&(s.Db(9),s.kc("ngClass",e.controls.listOfNews?"":"is-clicked"),s.Db(4),s.kc("ngClass",e.controls.listOfQuestions?"":"is-clicked"),s.Db(4),s.kc("ngClass",e.controls.createNews?"":"is-clicked"),s.Db(4),s.kc("ngClass",e.controls.createQuestions?"":"is-clicked"),s.Db(5),s.kc("appControlPanelView",e.controls.listOfNews)("needRefresh",e.controls.listOfNews),s.Db(2),s.kc("appControlPanelView",e.controls.listOfQuestions),s.Db(2),s.kc("appControlPanelView",e.controls.createNews),s.Db(2),s.kc("appControlPanelView",e.controls.createQuestions))},directives:[l,i.j,b.a,d.a,M,k,Q,nt,gt],styles:["img[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;max-height:190px;object-fit:cover}header[_ngcontent-%COMP%]{text-align:center;position:relative}div.row-header[_ngcontent-%COMP%], header[_ngcontent-%COMP%]{display:flex;width:100%}div.row-header[_ngcontent-%COMP%]{position:absolute;margin:auto;bottom:0}h1.header[_ngcontent-%COMP%]{text-align:center;color:#fff;background-color:rgba(131,160,184,.5);padding:.5em;width:100%}mat-tab-group[_ngcontent-%COMP%]{height:100%}.row-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-around;background-color:#d3d3d3}.row[_ngcontent-%COMP%], .row-content[_ngcontent-%COMP%]{list-style-type:none}.row[_ngcontent-%COMP%]{width:250px;display:inline-block;padding:10px;cursor:pointer}.row[_ngcontent-%COMP%]:hover{background-color:#949494}.is-clicked[_ngcontent-%COMP%]{background-color:#b9b9b9}"]}),t})();var ft=n("eIep"),mt=n("lJxs"),wt=n("qXBG");let Ct=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return this.authService.currentUser$.pipe(Object(ft.a)(t=>void 0===t?this.authService.authenticate():[t]),Object(mt.a)(t=>"admin"===(null==t?void 0:t.role)||(this.router.navigateByUrl("/"),!1)),Object(z.a)())}canActivateChild(t,e){return this.authService.currentUser$.pipe(Object(ft.a)(t=>void 0===t?this.authService.authenticate():[t]),Object(mt.a)(t=>"admin"===(null==t?void 0:t.role)||(this.router.navigateByUrl("/"),!1)),Object(z.a)())}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(wt.a),s.Yb(o.c))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vt=o.f.forChild([{path:"",pathMatch:"full",canActivate:[Ct],component:pt},{path:"news",canActivateChild:[Ct],children:[{path:"",pathMatch:"full",component:M},{path:"create",pathMatch:"full",data:{isLogged:!0},component:nt},{path:":id/edit",pathMatch:"full",data:{isLogged:!0},component:nt}]},{path:"q&a",canActivateChild:[Ct],children:[{path:"create",pathMatch:"full",data:{isLogged:!0},component:gt},{path:":id/edit",pathMatch:"full",data:{isLogged:!0},component:gt}]}]);var yt=n("PCNd");let Ut=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({providers:[c.a],imports:[[i.c,o.f,r.a,a.f,a.n,vt,yt.a]]}),t})()}}]);